CanvasEx7:

# france map with relative layout.
<CanvasEx7>:
    
    RelativeLayout:        
        canvas: 
            Color: 
                rgb: (0,0,1)
            Rectangle: 
                size: self.size
    
    RelativeLayout:
        canvas: 
            Color: 
                rgb: (1,1,1)
            Rectangle: 
                size: self.size
    
    RelativeLayout:
        canvas: 
            Color: 
                rgb: (1,0,0)
            Rectangle: 
                size: self.size
    


<CanvasEx6>:
    BoxLayout:
        size: root.size
        Widget:
            canvas: 
                Color:
                    rgba: 1,0,0,.4
                Rectangle: 
                    size: self.size
        
        RelativeLayout:
            canvas: 
                Color:
                    rgba: 1 , 0 , 1 , .3

                Rectangle: 
                    size: self.size
                    # pos: self.pos #required with widget , but not with relative layout.
        
        


<CanvasEx5>:


<CanvasEx4>:
    Button:
        text: 'click'
        pos: (100,400)
        on_press: root.on_button_click()


<CanvasEx3>:
    canvas: 
        Color:
            rgb: 1, 0, 0
        Line: 
            circle: (self.width*0.2,self.height*0.5,100) # center_x, center_y, radius
        Line: 
            ellipse: (self.width*0.4,self.height*0.5, 100,200) # center_x, center_y, radius_x, radius_y
        
        Color:
            rgba: 0 , 1 , 0 , .5
        Line: 
            rectangle: (self.width*0.7,self.height*0.5,200,100) # x, y, w, h


<CanvasEx2>:
    canvas: 
        Line: 
            points: (0,self.height/2,self.width,self.height/2)
            width: 2
        Line: 
            points: (self.width/2,0,self.width/2,self.height)
            width: 2


# variables can be defined in .kv file itself. 
#:set s dp(150) 
<CanvasEx1>:
    canvas:
        Rectangle:
            pos: self.center_x-s/2, self.center_y-s/2
            size: s,s
        Ellipse:
            pos: self.center_x-s, self.center_y-s
            size: s,s
        Line: 
            points: (0,100, self.width*0.1,200,self.width*0.2,100,self.width*0.3,200,self.width*0.4,100, self.width*0.5,200,self.width*0.6,100,self.width*0.7,200,self.width*0.8,100, self.width*0.9,200,self.width,100)
            width: dp(5)


<ImageEx@GridLayout>:
    cols: 3
    Image:
        source: ("images/img1.jpeg")
        allow_stretch: True
        # keep_ratio: False
        # opacity: .1
    # Image:
    #     source: ("images/img2.jpeg")
    # Image:
    #     source: ("images/img3.jpeg")

<WidgetEx>:
    cols: 3

    ToggleButton:
        text: 'OFF'
        font_size: '50dp'
        on_state: root.on_toggle_button_state(self)
        size_hint: (None,1)
        width: '100dp'

    Button:
        text: "Click"
        on_press: root.on_button_click()
        disabled: not root.is_toggled # changes interaction

    Label:
        text:root.my_text
        font_name: 'fonts/myfont.ttf'
        font_size: '80dp'
        color: ('red')

    Switch:
        id: the_switch
        on_active: root.on_switch_active(self)
        size_hint: (None,1)
        width: '100dp'
        active: False
    
    Slider:
        id: the_slider
        min: 0
        max: 100
        value: 50
        on_value: root.on_slider_value(self)
        orientation: 'vertical'
        disabled: not the_switch.active
    
    BoxLayout:
        orientation: 'vertical'
        Label:
            # text: root.slider_value_txt
            text: str(int(the_slider.value))
            font_size: "50dp"
        ProgressBar:
            max:100
            value: the_slider.value
    BoxLayout:
        size_hint: (None,1)
        width: '100dp'
        orientation: 'vertical'
        Label:
            text:'Your name:'
        TextInput:
            id: the_txt_input
            text: ''
            multiline: False
            # focused: True
            on_text_validate: root.on_text_validate(self)
    Label: 
        text: "Your Name: " + root.txt_validate
        
        

# Page layout; uses and shows other layout.
<PageLayoutEx@PageLayout>:
    MainWidget:
    BoxLayoutEx:
    AnchorLayoutEx:
    GridLayoutEx:


# in .kv scroll layout example
<ScrollViewEx@ScrollView>:
    StackLayoutEx:
        size_hint: (1,None)
        height: self.minimum_height # makes the scroll possible till the content.



# StackLayout
<StackLayoutEx>:
    
    # left-right and top-bottom
    # orientation: 'rl-bt'
    # padding: ("20dp","30dp","40dp","50dp") # Left, top, right, bottom
    # spacing: "20dp","20dp"

    # Button:
    #     text: "A"
    #     color: ("blue")
    #     size_hint: (.2,.2)
    # Button:
    #     text: "B"
    #     color: ("red")
    #     size_hint: (.2,.2)
    # Button:
    #     text: "C"
    #     color: ("cyan")
    #     size_hint: (.2,.2)
    

# Grid layout in .kv usage
<GridLayoutEx@GridLayout>:
    
    rows: 2
    cols: 3

    
    Button:
        text: 'A'
        size_hint: (None,1) #Must have the same size_hint in the respective row / columns.
        width: "50dp"
    
    BoxLayoutEx:
    Button:
        text: 'C'
    Button:
        text: 'D'
        size_hint: (None,1) #Must have the same size_hint in the respective row / columns.
        width: "50dp"

    AnchorLayoutEx:
    Button:
        text: 'F'
    


# Anchor Layout Example
<AnchorLayoutEx>:
    
    # For anchor_x: right, left, center
    anchor_x: 'center'
    
    # For anchor_y: bottom, top, center
    anchor_y: 'bottom'
    
    BoxLayout:
        size_hint: (.2,.2)
        Button:
            text: 'A'
        Button:
            text: 'B'

# Box layout Example
<BoxLayoutEx>:

    orientation:'horizontal'

    Button:
        text:'A'
        
        size_hint: (0.5,0.5) # this is usable in box BoxLayout
        # size: "40dp","60dp" # this will not work without size_hint.
        
        # width: "40dp" # These will only work,
        # height: "40dp" # if size_hint is used and is None.

        
        pos_hint: {"top":1}

        # All possible keys for pos hint:
            # x, center_x, right
            # y, center_y, top

    # Nested layouts
    BoxLayout:
        orientation: 'vertical'
        spacing: "10dp"
        
        Button:
            text:'b1'
        Button:
            text:'b2'
        Button:
            text:'b3'
        Button:
            text:'b4'
        
    Label:
        text:'c'


<MainWidget>:
    Button:
        text:"Btn1"
        size:"100dp","100dp"
        pos:"100dp","100dp"
        color: .5,.5,.8,1


    Label:
        text:"label1"
        size:"100dp","100dp"
        pos:"300dp","100dp"
        color: .75,.35,.28,1
